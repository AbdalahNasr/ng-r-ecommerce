<section class="form-section mx-auto">
  <div class="card2">
    <div class="form">
      <form [formGroup]="registerForm" (ngSubmit)="handleForm()">
        <p id="heading">Register</p>
        <div class="field">
          <svg viewBox="0 0 16 16" fill="currentColor" height="16" width="16" xmlns="http://www.w3.org/2000/svg" class="input-icon">
            <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm4-3a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM2 14s-1 0-1-1 1-4 7-4 7 3 7 4-1 1-1 1H2zm13-1c0-.268-.225-.797-1.338-1.464C12.13 11.07 10.21 10.5 8 10.5c-2.21 0-4.13.57-5.662 1.036C1.225 12.203 1 12.732 1 13h14z"></path>
          </svg>
          <input #inputName formControlName="name" type="text" id="name" class="input-field" placeholder="Name" autocomplete="off">
        </div>
        <div *ngIf="registerForm.get('name')?.errors && (registerForm.get('name')?.touched || inputName.value.length > 0)" class="alert alert-danger">
          <small *ngIf="registerForm.get('name')?.getError('required')">Name is Required</small>
          <small *ngIf="registerForm.get('name')?.getError('minlength')">Name min Length 3 characters</small>
          <small *ngIf="registerForm.get('name')?.getError('maxlength')">Name max Length 20 characters</small>
        </div>

        <div class="field">
          <svg viewBox="0 0 16 16" fill="currentColor" height="16" width="16" xmlns="http://www.w3.org/2000/svg" class="input-icon">
            <path d="M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"></path>
          </svg>
          <input #inputEmail formControlName="email" type="email" id="email" class="input-field" placeholder="Email" autocomplete="off" />
        </div>
        <div *ngIf="registerForm.get('email')?.errors && (registerForm.get('email')?.touched || inputEmail.value.length > 0)" class="alert alert-danger">
          <small *ngIf="registerForm.get('email')?.getError('required')">Email is Required</small>
          <small *ngIf="registerForm.get('email')?.getError('email')">Email min Length 3 characters</small>
        </div>

        <div class="field">
          <svg viewBox="0 0 16 16" fill="currentColor" height="16" width="16" xmlns="http://www.w3.org/2000/svg" class="input-icon">
            <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"></path>
          </svg>
          <input #inputPassword formControlName="password" type="password" id="password" class="input-field" placeholder="Password" autocomplete="off" />
        </div>
        <div *ngIf="registerForm.get('password')?.errors && (registerForm.get('password')?.touched || inputPassword.value.length > 0)" class="alert alert-danger">
          <small *ngIf="registerForm.get('password')?.getError('required')">password is Required</small>
          <small *ngIf="registerForm.get('password')?.getError('pattern')">password must start with upperCase then from 6 to 10</small>
        </div>

        <div class="field">
          <svg viewBox="0 0 16 16" fill="currentColor" height="16" width="16" xmlns="http://www.w3.org/2000/svg" class="input-icon">
            <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"></path>
          </svg>
          <input #inputRePassword formControlName="rePassword" type="password" id="rePassword" class="input-field" placeholder="Confirm Password" autocomplete="off" />
        </div>
        <div *ngIf="registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || inputRePassword.value.length > 0)" class="alert alert-danger">
          <small *ngIf="registerForm.get('rePassword')?.getError('required')">confirmation Password is Required</small>
          <small *ngIf="registerForm.get('rePassword')?.getError('pattern')">confirmation Password must start with upperCase then from 6 to 10</small>
          <small *ngIf="registerForm.get('rePassword')?.getError('mismatch')">Passwords do not match</small>
        </div>

        <div class="field">
          <svg viewBox="0 0 16 16" fill="currentColor" height="16" width="16" xmlns="http://www.w3.org/2000/svg" class="input-icon">
            <path d="M3 2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3zm0-1h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2z"></path>
          </svg>
          <input #inputPhone formControlName="phone" type="tel" id="phone" class="input-field" placeholder="Phone" autocomplete="off" />
        </div>
        <div *ngIf="registerForm.get('phone')?.errors && (registerForm.get('phone')?.touched || inputPhone.value.length > 0)" class="alert alert-danger">
          <small *ngIf="registerForm.get('phone')?.getError('required')">phone is Required</small>
          <small *ngIf="registerForm.get('phone')?.getError('pattern')">accept only egypt phone numbers</small>
        </div>

        <button class="button1" [disabled]="registerForm.invalid" (click)="handleForm()">
          <span *ngIf="isLoading" class="loader"></span>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Register&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </button>
        <p *ngIf="msgErr" class="alert alert-danger">{{msgErr}}</p>
      </form>
      <a routerLink="/login" class="login-link d-block text-center mt-3">Already have an account? Login</a>
    </div>
  </div>
</section>
