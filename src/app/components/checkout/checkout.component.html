<div class="mt-12 flex flex-col lg:flex-row gap-8 max-w-7xl mx-auto">
  <!-- Left: Main Checkout Area -->
  <div class="w-full lg:w-2/3">
    <div class="bg-gradient-to-br from-neon-bg-dark to-[#2a1a3c] border-2 border-neon-blue shadow-neon rounded-3xl p-4 md:p-8 mb-8">
      <h2 class="text-3xl font-bold neon-title mb-8 text-center">Checkout</h2>
      <!-- Product List -->
      <div class="space-y-8">
        <div *ngFor="let item of cartItems" class="flex flex-col md:flex-row items-center gap-8 bg-black bg-opacity-40 rounded-2xl p-6">
          <img [src]="item.product.imageCover" [alt]="item.product.title" class="w-32 h-32 object-contain rounded-xl neon-img mb-4 md:mb-0" />
          <div class="flex-1 flex flex-col items-center md:items-start">
            <h5 class="text-white text-2xl font-bold mb-2 text-center md:text-left">{{item.product.title}}</h5>
            <div class="text-neon-green text-2xl font-extrabold mb-2">{{item.price | currency:'EGP'}}</div>
            <div class="flex items-center justify-center gap-2 mb-2">
              <button (click)="changeCount(item.product._id, item.count - 1)"
              class="neon-btn w-8 h-8 flex items-center justify-center rounded-full border-2 bg-transparent font-bold text-lg transition-all duration-300">-</button>
              <span class="text-white text-lg">{{item.count}}</span>
              <button (click)="changeCount(item.product._id, item.count + 1)"
              class="neon-btn w-8 h-8  flex items-center justify-center rounded-full border-2 bg-transparent font-bold text-lg transition-all duration-300">+</button>
            </div>
            <div class="text-neon-green font-bold mt-2">Subtotal: {{item.price * item.count | currency:'EGP'}}</div>
          </div>
        </div>
      </div>
      <!-- Form -->
      <div class="mt-10">
        <div class="flex flex-col md:flex-row gap-4 mb-4">
          <input type="text" placeholder="Phone Details" class="neon-input flex-1" [(ngModel)]="phone" />
          <input type="text" placeholder="City" class="neon-input flex-1" [(ngModel)]="city" />
        </div>
        <textarea placeholder="Message" class="neon-input w-full mb-6" rows="2" [(ngModel)]="message"></textarea>
      </div>
      <button class="pay-btn btn-lg border-2 border-neon-purple bg-transparent font-bold text-lg w-full flex items-center justify-center gap-2 text-neon-blue rounded-full hover:bg-neon-blue hover:text-white hover:border-neon-blue mt-6">
        <span class="btn-text">Pay</span>
        <img src="assets/images/visa-1.svg" alt="Visa" class="h-6 ml-2" />
      </button>
      <!-- Order Summary for small screens -->
      <div class="block lg:hidden mt-8">
        <app-order-summary [items]="cartItems"></app-order-summary>
      </div>
    </div>
  </div>

  <!-- Right: Fixed Order Summary (desktop only) -->
  <div class="hidden lg:block w-full lg:w-1/3">
    <div class="fixed top-28 right-4 w-full max-w-md lg:max-w-lg">
      <app-order-summary [items]="cartItems"></app-order-summary>
    </div>
  </div>
</div>
